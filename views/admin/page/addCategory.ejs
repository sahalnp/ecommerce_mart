<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui"
        />
        <meta
            name="description"
            content="Chameleon Admin is a modern Bootstrap 4 webapp &amp; admin dashboard html template with a large number of components, elegant design, clean and organized code."
        />
        <meta
            name="keywords"
            content="admin template, Chameleon admin template, dashboard template, gradient admin template, responsive admin template, webapp, eCommerce dashboard, analytic dashboard"
        />
        <meta name="author" content="ThemeSelect" />
        <title>Chameleon Admin</title>
        <link
            rel="apple-touch-icon"
            href="/theme-assets/images/ico/apple-icon-120.png"
        />
        <link
            rel="shortcut icon"
            type="image/x-icon"
            href="/theme-assets/images/favicon.png"
        />

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        />

        <link
            href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700"
            rel="stylesheet"
        />
        <link
            href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css"
            rel="stylesheet"
        />
        <!-- BEGIN VENDOR CSS-->
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/vendors.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/charts/chartist.css"
        />
        <!-- END VENDOR CSS-->
        <!-- BEGIN CHAMELEON  CSS-->
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/app-lite.css"
        />
        <!-- END CHAMELEON  CSS-->
        <!-- BEGIN Page Level CSS-->
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/core/colors/palette-gradient.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/core/menu/menu-types/vertical-menu.css"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="/theme-assets/vendors/css/pages/dashboard-ecommerce.css"
        />
        <!-- END Page Level CSS-->
        <!-- BEGIN Custom CSS-->
        <style>
            .container {
                max-width: 450px;
                margin: 60px auto;
                padding: 25px;
                background: #ffffff;
                border-radius: 12px;
                box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.12);
                transition: all 0.3s ease-in-out;
            }

            h2 {
                text-align: center;
                color: #000000;
                font-size: 22px;
                font-weight: 600;
                margin-bottom: 15px;
            }

            input {
                width: 100%;
                padding: 12px;
                margin-bottom: 12px;
                border: 1.8px solid #ccc;
                border-radius: 8px;
                font-size: 14px;
                outline: none;
                transition: border 0.3s ease;
            }

            input:focus {
                border-color: #007bff;
                box-shadow: 0px 0px 6px rgba(0, 123, 255, 0.3);
            }

            button {
                width: 100%;
                padding: 12px;
                background: linear-gradient(135deg, #007bff, #0056b3);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
                transition: all 0.3s ease-in-out;
                margin-top: 10px;
            }

            button:hover {
                background: linear-gradient(135deg, #0056b3, #004080);
                transform: scale(1.03);
            }

            .submit-btn {
                background: #28a745;
                border: none;
            }

            .submit-btn:hover {
                background: #218838;
            }
        </style>
        <!-- END Custom CSS-->
    </head>
    <body
        class="vertical-layout vertical-menu 2-columns menu-expanded fixed-navbar"
        data-open="click"
        data-menu="vertical-menu"
        data-color="bg-chartbg"
        data-col="2-columns"
    >
        <!-- fixed-top-->
        <nav
            class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light"
        >
            <div class="navbar-wrapper">
                <div class="navbar-container content">
                    <div
                        class="collapse navbar-collapse show"
                        id="navbar-mobile"
                    >
                        <ul class="nav navbar-nav mr-auto float-left">
                            <li class="nav-item d-block d-md-none">
                                <a
                                    class="nav-link nav-menu-main menu-toggle hidden-xs"
                                    href="#"
                                    ><i class="ft-menu"></i
                                ></a>
                            </li>
                            <li class="nav-item d-none d-md-block">
                                <a class="nav-link nav-link-expand" href="#"
                                    ><i class="ficon ft-maximize"></i
                                ></a>
                            </li>
                            <li class="nav-item dropdown navbar-search">
                                <a
                                    class="nav-link dropdown-toggle hide"
                                    data-toggle="dropdown"
                                    href="#"
                                    ><i class="ficon ft-search"></i
                                ></a>
                                <ul class="dropdown-menu">
                                    <li class="arrow_box">
                                        <form>
                                            <div class="input-group search-box">
                                                <div
                                                    class="position-relative has-icon-right full-width"
                                                >
                                                    <input
                                                        class="form-control"
                                                        id="search"
                                                        type="text"
                                                        placeholder="Search here..."
                                                    />
                                                    <div
                                                        class="form-control-position navbar-search-close"
                                                    >
                                                        <i class="ft-x"> </i>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <ul class="nav navbar-nav float-right">
                            <li class="dropdown dropdown-language nav-item">
                                <a
                                    class="dropdown-toggle nav-link"
                                    id="dropdown-flag"
                                    href="#"
                                    data-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false"
                                    ><i class="flag-icon flag-icon-us"></i
                                    ><span class="selected-language"></span
                                ></a>
                                <div
                                    class="dropdown-menu"
                                    aria-labelledby="dropdown-flag"
                                ></div>
                            </li>
                        </ul>
                        <ul class="nav navbar-nav float-right">
                            <li class="dropdown dropdown-notification nav-item">
                                <a
                                    class="nav-link nav-link-label"
                                    href="#"
                                    data-toggle="dropdown"
                                    ><i class="ficon ft-mail"> </i
                                ></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <div class="arrow_box_right">
                                        <a class="dropdown-item" href="#"
                                            ><i class="ft-book"></i> Read
                                            Mail</a
                                        ><a class="dropdown-item" href="#"
                                            ><i class="ft-bookmark"></i> Read
                                            Later</a
                                        ><a class="dropdown-item" href="#"
                                            ><i class="ft-check-square"></i>
                                            Mark all Read
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="dropdown dropdown-user nav-item">
                                <a
                                    class="dropdown-toggle nav-link dropdown-user-link"
                                    href="#"
                                    data-toggle="dropdown"
                                >
                                    <span class="avatar avatar-online">
                                        <img
                                            src="/theme-assets\images\gallery\image.png"
                                            alt="User Avatar"
                                            class="default-avatar"
                                        />
                                    </span>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <div class="arrow_box_right">
                                        <a class="dropdown-item" href="#">
                                            <span
                                                class="user-name text-bold-700 ml-1"
                                                ><%= admin.firstname %></span
                                            >
                                        </a>
                                        <div class="dropdown-divider"></div>
                                        <a
                                            class="dropdown-item"
                                            href="/admin/logout"
                                            ><i class="ft-power"></i>Logout</a
                                        >
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ////////////////////////////////////////////////////////////////////////////-->

        <div
            class="main-menu menu-fixed menu-light menu-accordion menu-shadow"
            data-scroll-to-active="true"
            data-img="/theme-assets/images/backgrounds/02.jpg"
        >
            <div class="navbar-header">
                <ul class="nav navbar-nav flex-row">
                    <li class="nav-item mr-auto">
                        <a class="navbar-brand" href="/admin/dashboard"
                            ><img
                                class="brand-logo"
                                alt="Chameleon admin logo"
                                src="/theme-assets/images/logo/logo.png"
                            />
                            <h3 class="brand-text">Chameleon</h3></a
                        >
                    </li>
                    <li class="nav-item d-md-none">
                        <a class="nav-link close-navbar"
                            ><i class="ft-x"></i
                        ></a>
                    </li>
                </ul>
            </div>
            <div class="main-menu-content">
                <ul
                    class="navigation navigation-main"
                    id="main-menu-navigation"
                    data-menu="menu-navigation"
                >
                    <li class="nav-item">
                        <a href="/admin/dashboard"
                            ><i class="fa fa-home"></i
                            ><span class="menu-title" data-i18n=""
                                >Dashboard</span
                            ></a
                        >
                    </li>
                    <li class="nav-item">
                        <a href="/admin/userDetails">
                            <i class="fas fa-users"></i>
                            <span>Users</span>
                        </a>
                    </li>

                    <li class="nav-item active">
                        <a href="/admin/category"
                            ><i class="fas fa-list"></i
                            ><span class="menu-title">Categories</span></a
                        >
                    </li>

                    <li class="nav-item">
                        <a href="/admin/add_product"
                            ><i class="fas fa-plus"></i
                            ><span class="menu-title">Add Product</span></a
                        >
                    </li>
                    <li class="nav-item">
                        <a href="watchlist.html">
                            <i class="fas fa-heart"></i>
                            <span>Watchlist</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="navigation-background"></div>
        </div>

        <div class="container">
            <h2>Add Category</h2>
            <form action="/admin/addCategory" method="POST">
                <!-- Category Input -->
                <input
                    id="categoryInput"
                    name="category"
                    placeholder="Enter category"
                />

                <!-- Add Category Button -->
                <button type="button" id="addCategoryBtn">Add Category</button>
               

                <!-- Category Lists -->
                <ul id="categoryList"></ul>
           

                <!-- Hidden Inputs for Form Submission -->
                <input type="hidden" id="categoriesField" name="categories" />

                <!-- Submit Button -->
                <button type="submit" class="submit-btn">
                    Submit Categories
                </button>
            </form>
            <% if (message) { %>
                <div class="alert alert-danger mt-2" style="color: white; background-color: rgb(233, 88, 88); padding: 10px; margin-top: 10px; border-radius: 5px; text-align: center;">
                    <%= message %>
                </div>
            <% } %>
            
            
            


        <script>
            document
                .getElementById("addCategoryBtn")
                .addEventListener("click", function () {
                    const input = document.getElementById("categoryInput");

                    const categoryList =
                        document.getElementById("categoryList");      

                    const category = input.value.trim();

                    // Check for duplicate category
                    const categoryExists = Array.from(
                        categoryList.getElementsByTagName("li")
                    ).some((li) => li.textContent === category);

                    if (category && !categoryExists) {
                        const li = document.createElement("li");
                        li.textContent = category;
                        li.style = `margin-top:20px;
                color:black`;
                        categoryList.appendChild(li);

                        input.value = "";
                        updateCategoriesField();
                    }

                });

            // Function to update category field
            function updateCategoriesField() {
                const listItems = document.querySelectorAll("#categoryList li");
                let categories = Array.from(listItems).map(
                    (li) => li.textContent
                );
                document.getElementById("categoriesField").value = categories;
            }

        </script>
    </body>
</html>
